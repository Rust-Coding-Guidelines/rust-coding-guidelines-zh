# 3.4 数据类型

数据类型记录 Rust 标准库提供的 原生类型，以及结构体和枚举体等编码实践。

## 列表

- [P.TYP.01 必要时，应该使得类型可以表达更明确的语义，而不是只是直接使用原生类型](./data-type/P.TYP.01.md)
- [G.TYP.01 类型转换尽可能使用安全的转换函数代替 `as`](./data-type/G.TYP.01.md)
- [G.TYP.02 数字字面量在使用的时候应该明确标注好类型](./data-type/G.TYP.02.md)
- [G.TYP.03 不要用数字类型边界值去判断能否安全转换，而应该使用 try_from 相关方法](./data-type/G.TYP.03.md)
- [布尔](./safe-guides/coding_practice/data-type/bool.md)
    - [G.TYP.BOL.01 返回为布尔值的表达式或函数值不应和布尔字面量进行比较](./data-type/bool/G.TYP.BOL.01.md)
    - [G.TYP.BOL.02 如果 match 匹配表达式为布尔类型，应使用 if 表达式来代替](./data-type/bool/G.TYP.BOL.02.md)
    - [G.TYP.BOL.03 不应将数字类型转换为布尔值](./data-type/bool/G.TYP.BOL.03.md)
    - [G.TYP.BOL.04 禁止在`if`表达式条件中使用块（block）结构](./data-type/bool/G.TYP.BOL.04.md)
    - [G.TYP.BOL.05 非必要时，布尔运算应使用逻辑运算符(`&&/||`)而非位运算符(`&/|`)](./data-type/bool/G.TYP.BOL.05.md)
    - [G.TYP.BOL.06 不应使用数字来代替布尔值](./data-type/bool/G.TYP.BOL.06.md)
- [字符](./data-type/char.md)
    - [G.TYP.CHR.01 不宜将字符字面量强制转换为 `u8`](./data-type/char/G.TYP.CHR.01.md)
    - [G.TYP.CHR.02 字符串方法中如果需要单个字符的值作为参数，宜使用字符而非字符串](./data-type/char/G.TYP.CHR.02.md)
    - [G.TYP.CHR.03 当需要将整数转换为字符时，应使用安全转换函数，而非 transmute](./data-type/char/G.TYP.CHR.03.md)
- [整数](./data-type/int.md)
    - [G.TYP.INT.01 在用整数计算的时候需要考虑整数溢出、回绕和截断的风险](./data-type/int/G.TYP.INT.01.md)
    - [G.TYP.INT.02 避免有符号整数和无符号整数之间的强制转换](./data-type/int/G.TYP.INT.02.md)
    - [G.TYP.INT.03 对负数取模计算的时候不应使用`%`](./data-type/int/G.TYP.INT.03.md)
- [浮点数](./data-type/float.md)
    - [G.TYP.FLT.01 使用`f32`字面量时，避免被Rust编译器截断](./data-type/float/G.TYP.FLT.01.md)
    - [G.TYP.FLT.02 从任何数字类型转换为`f64`类型时注意避免损失精度](./data-type/float/G.TYP.FLT.02.md)
    - [G.TYP.FLT.03 对精度高要求的场景下，不应直接使用浮点数进行运算和比较](./data-type/float/G.TYP.FLT.03.md)
    - [G.TYP.FLT.04 宜使用Rust内置方法处理浮点数计算](./data-type/float/G.TYP.FLT.04.md)
    - [G.TYP.FLT.05 使用字面量定义浮点数时，尽量使用`f64`类型而非`f32`类型](./data-type/float/G.TYP.FLT.05.md)
    - [G.TYP.FLT.06 禁止在浮点数和整数相互转换时使用 transmute](./data-type/float/G.TYP.FLT.06.md)
- [切片](./data-type/slice.md)
    - [P.TYP.SLC.01 宜使用切片迭代器来代替手工索引](./data-type/slice/P.TYP.SLC.01.md)
    - [P.TYP.SLC.02 宜使用切片模式来提升代码的可读性](./data-type/slice/P.TYP.SLC.02.md)
- [元组](./data-type/tuple.md)
    - [G.TYP.TUP.01 使用元组时，其元素最多不宜超过3个](./data-type/tuple/G.TYP.TUP.01.md)
- [固定长度数组](./data-type/array.md)
    - [G.TYP.ARR.01 创建大全局数组时宜使用静态变量而非常量](./data-type/array/G.TYP.ARR.01.md)
    - [G.TYP.ARR.02 使用数组索引时禁止越界访问](./data-type/array/G.TYP.ARR.02.md)
    - [G.TYP.ARR.03 当数组元素为原生数据类型（Primitive），排序时宜使用非稳定排序](./data-type/array/G.TYP.ARR.03.md)
- [动态数组](./data-type/vec.md)
    - [P.TYP.VEC.01 非必要时不宜使用动态数组](./data-type/vec/P.TYP.VEC.01.md)
    - [P.TYP.VEC.02 创建动态数组时，宜预先分配足够容量，避免后续操作中产生多次分配](./data-type/vec/P.TYP.VEC.02.md)
    - [G.TYP.VEC.01 禁止访问未初始化的数组](./data-type/vec/G.TYP.VEC.01.md)
- [结构体](./data-type/struct.md)
    - [P.TYP.SCT.01 为结构体实现构造性方法时，避免构造后再初始化的情况](./data-type/struct/P.TYP.SCT.01.md)
    - [P.TYP.SCT.02 结构体实例需要默认实现时，宜使用Default特质](./data-type/struct/P.TYP.SCT.02.md)
    - [G.TYP.SCT.01 对外导出的公开的 Struct，宜添加`#[non_exhaustive]`属性](./data-type/struct/G.TYP.SCT.01.md)
    - [G.TYP.SCT.02 当结构体中有超过三个布尔类型的字段，宜将其独立为一个枚举](./data-type/struct/G.TYP.SCT.02.md)
    - [G.TYP.SCT.03 宜使用结构体功能更新语法来提升代码可读性](./data-type/struct/G.TYP.SCT.03.md)
- [枚举体](./data-type/enum.md)
    - [G.TYP.ENM.01 合理选择`map`和`and_then`](./data-type/enum/G.TYP.ENM.01.md)
    - [G.TYP.ENM.02 非必要时不应自行创建空枚举](./data-type/enum/G.TYP.ENM.02.md)
    - [G.TYP.ENM.03 在使用类似 C 语言的枚举写法且使用`repr(isize/usize)` 布局时注意 32位架构上截断的问题](./data-type/enum/G.TYP.ENM.03.md)
    - [G.TYP.ENM.04 不宜在`use`语句中引入Enum的全部变体（variants）](./data-type/enum/G.TYP.ENM.04.md)
    - [G.TYP.ENM.05 对外导出的公开Enum，宜添加`#[non_exhaustive]`属性](./data-type/enum/G.TYP.ENM.05.md)
    - [G.TYP.ENM.06 Enum内变体的大小差异不宜过大](./data-type/enum/G.TYP.ENM.06.md)

